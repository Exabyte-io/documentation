# Crystal Lattice

To every crystal structure composed of atoms is associated an underlying Bravais lattice [[1](#links)], an array of abstract lattice points as opposed to real physical atoms. The reader who finds it necessary to revise the theoretical background behind the fundamental difference in the two concepts is referred to the expandable introductory section below: 

<details>
  <summary>
    Expand to view ...
  </summary>
  
In crystallography, a Bravais lattice represents an infinite array of discrete points generated by a set of discrete translation operations, which can be expressed in three dimensional space as:
  
$$
{\displaystyle \mathbf{R} = n_{1}\mathbf{a}_{1} + n_{2}\mathbf{a}_{2} + n_{3}\mathbf{a}_{3}}
$$
  
where $n_i$ are any integers, and $a_i$ are known as the primitive lattice vectors spanning the lattice in three-dimensional space. The defining characteristic of a Bravais lattice is that, for any choice of position vector $R$, the lattice has to look exactly the same when viewed from any equivalent lattice point.
  
Two Bravais lattices are considered equivalent if they have the same symmetry elements. In this sense, there are 14 possible distinct Bravais lattices in three-dimensional space, grouped together into 7 more general symmetry categorizations known as lattice systems. These two categories are tabulated in the image below for reference purposes, together with a representation of the typical appearance of their conventional unit cells exhibiting the full symmetry of the lattice:
  
<img src="/images/Bravais_lattices.png"/>

It can be deduced by inspecting the above figure that, besides their symmetry elements, Bravais lattices can additionally be described by the lattice parameters defining their unit cells. These parameters comprise information about both the lengths of the delimiting axes of the unit cell (the $a$, $b$ and $c$ lattice constants) and the angles between them ($\alpha$, $\beta$ and $\gamma$), as explained in the figure below: 

<img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/UnitCell.png"/>


</details>


# Opening the Crystal Lattice editor

The parameters of a Material's Bravais lattice  can be edited and set by expanding the top "Crystal Lattice" section in the central panel of the Materials Designer interface. The appearance of this "Crystal Lattice" editor inside the interface is shown in the figure below:

<img src="/images/crystal-lattice.png"/>

# Setting the Lattice Type

In order to choose the desired Bravais "Lattice type" out of the total list of 14 possibilities, click on the corresponding drop-down menu and make your selection. When an alternative lattice type is selected, the corresponding angles and lattice constants will automatically adjust. 

## A word of caution on the use of primitive unit cells

It is important to notice that the lattice parameters generated upon a selection of a particular lattice type are those that describe the *primitive* unit cell of the crystal containing just one lattice point, and not its fully-symmetric conventional unit cell which can contain several lattice points. In fact, only in Bravais lattices of type "P" (for primitive) are the two types of cells equivalent (the reader is referred to the image tabulating all Bravais lattices in the theoretical background section at the beginning of this documentation page for a list of "P" lattice types). 

For example, for a choice of Face-centred cubic (fcc) lattice type, the outcome will be the red-colored primitive cell portrayed in the image below, and not the wider cubic symmetric conventional unit cell. This is why, when fcc is selected, all unit cell angles are automatically set to 60 degrees, and not to 90 degrees as the name of the lattice type might suggest. 

<img src="/images/TGa4T.png" width="400" height="300"/>

Furthermore, it is important to bear in mind that in this particular instance of fcc lattice type, the size of the crystal axes of the primitive cell are smaller by a factor of $\sqrt 2$ compared to the conventional values of the lattice constants of crystals typically published in the literature. For example, for the case of single-crystal silicon which has indeed an underlying fcc Bravais lattice, the $a$, $b$ and $c$ lattice parameters get set to around 3.8 Angstroms by Materials Designer, and not to 5.43 Angstroms as conventionally noted in the literature.

Similar considerations apply to all other Bravais lattices. Information about the primitive lattice vectors for each Bravais lattice type, and their relations to the conventional (Cartesian) lattice vectors, can be accessed in the "Lattice Info" section on the top right corner of the AFLOW homepage [[2](#links)]. 


# Setting the Lattice Parameters

After selecting the desired lattice type, one can set its corresponding lattice constants ($a$, $b$ and $c$) defining the size of the unit cell, as well as the angles between the lattice vectors, by editing the corresponding numerical text fields. The user might notice that not all such lattice parameters can be edited manually for a given selection of lattice type. 

For example for a fcc lattice type, all angles are hard-coded to be 60 degrees and cannot be modified manually, since this angle value is the only correct definition for a fcc primitive unit cell. Similarly, all three lattice constants $a$, $b$ and $c$ are bound to remain equivalent between them at all times, even when one of them is modified by the user (the reader is referred to the image tabulating all Bravais lattices in the theoretical background section at the beginning of this documentation page for a complete list of all such symmetry constraints which pertain to each Bravais lattice type). 

If the user wishes to be free to modify all lattice parameters manually, the lattice type "Triclinic" can be chosen, which has no symmetry and therefore affords for unlimited degrees of freedom. 

!!!warning "Note: Lattice units"
    For the moment, only Angstroms units are supported for defining the dimensions of the lattice constants.

# Preserve Basis

The option to preserve the basis atoms in their absolute Angstrom Cartesian coordinates, regardless of any change brought to the crystal structure in terms of the size of its unit cell, is also offered. This feature can be activated by turning on the "Preserve Basis" slider at the bottom of the "Crystal Lattice" panel.  Otherwise, if this slider is disabled, it is the fractional crystal coordinates that get preserved instead. 

# Apply changes to the Lattice Parameters

When you are done selecting a new lattice type and its corresponding parameters, click on the `Apply Edits` button.  The 3D visual representation of the structure on the right-hand side viewer of the Materials Designer interface will change to reflect the newly-defined lattice type.

# Animation

Click on the animation below to see the above lattice editing features in action. Here we try to change lattice type of silicon from FCC originally to Tetragonal, and then we try modifying the size of one of the lattice axes (the a axis), applying the changes each time. The corresponding change in the unit cell can be observed to occur in the crystal viewer on the right-hand side of the interface.

<img data-gifffer="/images/ChangeMaterialLattice.gif" />

# Links

1. [Wikipedia Bravais Lattice, Website](https://en.wikipedia.org/wiki/Bravais_lattice)
2. [The AFLOW standard library of crystallographic prototypes, Website](http://www.aflowlib.org/CrystalDatabase/)

