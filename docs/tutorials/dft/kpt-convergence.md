<!-- by MH -->

This page explains how to run a k-point convergence study using planewave pseudopotential density functional theory [[1](#links)]. K-point convergence can be run either as a stand-alone workflow or prepended to characteristic property calculation.

# Background

The motivation behind using k-point convergence is explained in detail [here](/models/convergence-algorithms). This page focuses on practical usage of k-point convergence.

# Create job

We will use k-point convergence for a Total Energy calculation in this tutorial. To create a new job, click "Create Job" located in the sidebar/menu on the left. Use the default FCC Si structure. The exact list of materials in your personal database will differ, so you may need to search for the Si structure and select it as shown below:

<img data-gifffer="/images/tutorials/tutorials/ConvergeStep1.gif" />

# Choose workflow

Next, click on the "Workflow" tab choose VASP as the simulation engine and select "Total Energy" workflow.

Then, to add k-point convergence as a pre-processor to total energy calculation, expand the <i class="zmdi zmdi-plus zmdi-hc-border"></i> "Advanced Options" section to show trigger buttons for Relaxation and k-point convergence.  Click on the k-point convergence.

If you scroll down to view the workflow units and then toggle the k-point convergence button on and off in the "Advanced" section you will see the  various units that are added for convergence to set up the parameters to increase k-point density and track the corresponding total energy difference throughout the study.

<img data-gifffer="/images/tutorials/tutorials/ConvergeStep2.gif" />

# Examine unit input files

If you click on the kpt-convergence unit, you can see the content of the input files used for the convergence study VASP calculation.  You'll notice the KPOINTS file is different than a typical VASP KPOINTS file.  Do not edit this file as the text is modified to contain placeholders (eg. `{{PARAMETER}}`) that are necessary to enable the workflow to function correctly.

<img data-gifffer="/images/tutorials/ConvergeStep3.gif" />

# Submit job

Before submitting the job, click on the "Go to Compute" button and examine the compute parameters. The example below shows how to increase the total run time to 15 minutes, the number of cores to 2 cores, and how to turn on email notifications of when the job starts and ends.

<img data-gifffer="/images/tutorials/ConvergeStep4.gif" />

Since you are using the default Si structure as input, the database check may warn you that you are starting a job with a structure that already exists and ask whether you would like to save another copy of the material.  Click "No" to avoid duplicates.

# Monitor status

While the calculation is running you will see a tab for each of the VASP execution units in the workflow.  You will notice the kpt-convergence tab will update in real time as the simulations progress.  The graph will show the energy difference between successive self-consistent steps in the calculation for all self-consistent energy minimization steps as k-point density is increased. Standard output of VASP also updates in real time with the output of each VASP simulation concatenated together.

<img data-gifffer="/images/tutorials/ConvergeStep5.gif" />

!!! Note "Future developments"
    In the future we will split each iteration of the k-point convergence study into different data series to make the progress of each step more clear.  In addition we will also separate the text output of each individual simulation into it's own tracking box.

# Check results

When calculation is complete, "Results" tab will have turned green and will become clickable. You can click on the "Results" tab to see the final total energy, Fermi energy, and more information about each execution unit.

<img data-gifffer="/images/tutorials/ConvergeStep6.gif" />

# Converged k-point density

Finally you can also browse the actual output and input files that are part of the calculation at the bottom of the results page.  If you are interested in determining the k-point density at which convergence was reached, simply open the KPOINTS file and you will see the converged density of 21 x 21 x 21.

# Links

1. [Density Functional Theory, Wikipedia](https://en.wikipedia.org/wiki/Density_functional_theory)
2. [Vienna ab-inito simulation package, Website](https://www.vasp.at/)
