<div id="jupyterlite-embed-container" class="jupyterlite-embed-container" style="position: relative; width:100%; height:600px;">
  <iframe
    id="jupyterlite-iframe"
    width="100%"
    height="100%"
    style="border:none;"
    sandbox="allow-scripts allow-same-origin allow-popups allow-forms allow-modals allow-top-navigation-by-user-activation allow-downloads"
  ></iframe>
  <button class="fullscreen-button" style="position: absolute; top: 10px; right: 10px; z-index: 1000; background-color: #f0f0f0; border: none; padding: 5px 10px; cursor: pointer;">
    ⛶ Full Screen
  </button>
</div>

<script>
(function() {
  var container = document.getElementById('jupyterlite-embed-container');
  var iframe = document.getElementById('jupyterlite-iframe');
  var button = container.querySelector('.fullscreen-button');

  // Set the iframe src based on data attributes
  var originUrl = container.getAttribute('data-origin-url');
  var notebooksPathRoot = container.getAttribute('data-notebooks-path-root');
  var notebookName = container.getAttribute('data-notebook-name') || 'default_notebook.ipynb';
  iframe.src = originUrl + '/tree?path=' + notebooksPathRoot + '/' + notebookName;

  button.addEventListener('click', function() {
    if (!document.fullscreenElement) {
      if (container.requestFullscreen) {
        container.requestFullscreen();
      } else if (container.mozRequestFullScreen) {
        container.mozRequestFullScreen();
      } else if (container.webkitRequestFullscreen) {
        container.webkitRequestFullscreen();
      } else if (container.msRequestFullscreen) {
        container.msRequestFullscreen();
      }
    } else {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen();
      } else if (document.webkitExitFullscreen) {
        document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) {
        document.msExitFullscreen();
      }
    }
  });

  document.addEventListener('fullscreenchange', function() {
    button.textContent = document.fullscreenElement ? '⛶ Exit Full Screen' : '⛶ Full Screen';
  });
})();
</script>