{% set notebook_name = notebook_name | default('default_notebook.ipynb') %}
<div class="jupyterlite-embed-container" style="position: relative; width:100%; height:600px;">
  <iframe
    src="{{ config.extra.jupyterlite.origin_url }}/tree?path={{ config.extra.jupyterlite.notebooks_path_root }}/{{ notebook_name }}"
    width="100%"
    height="100%"
    style="border:none;"
    sandbox="allow-scripts allow-same-origin allow-popups allow-forms allow-modals allow-top-navigation-by-user-activation allow-downloads"
  ></iframe>
  <button class="fullscreen-button" style="position: absolute; top: 10px; right: 10px; z-index: 1000; background-color: #f0f0f0; border: none; padding: 5px 10px; cursor: pointer;">
    ⛶ Full Screen
  </button>
</div>

<script>
document.querySelector('.fullscreen-button').addEventListener('click', function() {
  var container = document.querySelector('.jupyterlite-embed-container');

  if (!document.fullscreenElement) {
    if (container.requestFullscreen) {
      container.requestFullscreen();
    } else if (container.mozRequestFullScreen) { // Firefox
      container.mozRequestFullScreen();
    } else if (container.webkitRequestFullscreen) { // Chrome, Safari and Opera
      container.webkitRequestFullscreen();
    } else if (container.msRequestFullscreen) { // IE/Edge
      container.msRequestFullscreen();
    }
    this.textContent = '⛶ Exit Full Screen';
  } else {
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.mozCancelFullScreen) {
      document.mozCancelFullScreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen();
    } else if (document.msExitFullscreen) {
      document.msExitFullscreen();
    }
    this.textContent = '⛶ Full Screen';
  }
});

document.addEventListener('fullscreenchange', function() {
  var button = document.querySelector('.fullscreen-button');
  if (document.fullscreenElement) {
    button.textContent = '⛶ Exit Full Screen';
  } else {
    button.textContent = '⛶ Full Screen';
  }
});
</script>